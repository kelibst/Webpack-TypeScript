(()=>{"use strict";const e=(e,t,n,a,s)=>{const l=document.createElement("li"),o=document.createElement("h4");o.innerText=t,l.append(o);const c=document.createElement("p");c.innerText=n,l.append(c);const d=document.createElement("button");d.classList.add("btn-rmv"),d.classList.add("btn"),d.id=`rmv-${s}`,d.innerText="Remove",d.type="button";const i=document.createElement("button");i.classList.add("btn-edt"),i.classList.add("btn"),i.id=`edt-${s}`,i.innerText="Edit",i.type="button",l.append(i),l.append(d),a.append(l)},t=document.querySelector(".new-todo-form"),n=document.querySelector("#state"),a=document.querySelector("#description"),s=document.querySelector(".todo-list"),l=document.querySelector("#task");let o=[];window.onload=t=>{let n=localStorage.getItem("allTask")||"[]";if(n){let t=JSON.parse(n);o=t,o&&o.map(((t,n)=>{e(t.state,t.task,t.description,s,n)}))}},s.addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("btn-rmv")){let e=o.filter(((e,n)=>n!==Number(t.id.charAt(t.id.length-1))));localStorage.setItem("allTask",JSON.stringify(e)),s.removeChild(t.parentNode)}else if(t.classList.contains("btn-edt")){let e=o.find(((e,n)=>n!==Number(t.id.charAt(t.id.length-1))));n.value=e?e.state:"",l.value=e?e.task:"",a.value=e?e.description:""}})),t.addEventListener("submit",(c=>{c.preventDefault();const d=new class{constructor(e,t,n){this.state=e,this.task=t,this.description=n}}(n.value,l.value,a.value);o.push(d),localStorage.setItem("allTask",JSON.stringify(o)),e(n.value,l.value,a.value,s,o.length-1),t.reset()}))})();